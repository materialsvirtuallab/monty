
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Monty: Python Made Even Easier &#8212; monty 2022.3.12 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/flasky.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="monty package" href="monty.html" />

   
  
  <link media="only screen and (max-device-width: 480px)" href="_static/small_flask.css" type= "text/css" rel="stylesheet" />
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">


  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="monty.html" title="monty package"
             accesskey="N">next</a> |</li>
        <li class="nav-item nav-item-0"><a href="#">monty 2022.3.12 documentation</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Monty: Python Made Even Easier</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="monty-python-made-even-easier">
<h1>Monty: Python Made Even Easier<a class="headerlink" href="#monty-python-made-even-easier" title="Permalink to this headline">¶</a></h1>
<img alt="https://travis-ci.org/materialsvirtuallab/monty.png?branch=master" src="https://travis-ci.org/materialsvirtuallab/monty.png?branch=master" />
<img alt="https://coveralls.io/repos/github/materialsvirtuallab/monty/badge.svg?branch=master" src="https://coveralls.io/repos/github/materialsvirtuallab/monty/badge.svg?branch=master" />
<img alt="https://anaconda.org/conda-forge/monty/badges/downloads.svg" src="https://anaconda.org/conda-forge/monty/badges/downloads.svg" /><p>Monty is the missing complement to Python. Monty implements supplementary
useful functions for Python that are not part of the standard library.
Examples include useful utilities like transparent support for zipped files,
useful design patterns such as singleton and cached_class, and many more.</p>
<p>Python is a great programming language and comes with “batteries
included”. However, even Python has missing functionality and/or quirks that
make it more difficult to do many simple tasks. In the process of
creating several large scientific frameworks based on Python,
my co-developers and I have found that it is often useful to create
reusable utility  functions to supplement the Python standard library. Our
forays in various developer sites and forums also found that many developers
are looking for solutions to the same problems.</p>
<p>Monty is created to serve as a complement to the Python standard library. It
provides suite of tools to solve many common problems, and hopefully,
be a resource to collect the best solutions.</p>
</section>
<section id="change-log">
<h1>Change Log<a class="headerlink" href="#change-log" title="Permalink to this headline">¶</a></h1>
<p><a class="reference internal" href="changelog.html"><span class="doc">Change log</span></a></p>
</section>
<section id="installation">
<h1>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h1>
<p>Standard pip install:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">monty</span>
</pre></div>
</div>
</section>
<section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline">¶</a></h1>
<p>Unlike most other modules, the organization of Monty mirrors that of the
standard Python library where possible. This style is adopted so that that
it is almost always obvious where a particular method or function
will reside. There are two recommended ways of using Monty.</p>
<p>Method 1: Import the monty root:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">monty</span> <span class="k">as</span> <span class="nn">mty</span>
<span class="k">with</span> <span class="n">mty</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">zopen</span><span class="p">(</span><span class="s2">&quot;src.gz&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">with</span> <span class="n">mty</span><span class="o">.</span><span class="n">io</span><span class="o">.</span><span class="n">zopen</span><span class="p">(</span><span class="s2">&quot;dest.bz2&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>Method 2: Import specific functions as needed:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">monty.io</span> <span class="kn">import</span> <span class="n">zopen</span>
<span class="k">with</span> <span class="n">zopen</span><span class="p">(</span><span class="s2">&quot;file.gz&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">data</span> <span class="o">=</span> <span class="n">f</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="k">with</span> <span class="n">zopen</span><span class="p">(</span><span class="s2">&quot;dest.bz2&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">f</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
</pre></div>
</div>
<p>The above is an example of how Monty supplements the standard Python library.
The standard library contains functions for dealing with gzipped and bzip2
files. What Monty adds is a layer of abstraction that allows the type of
compression (or no compression) to be determined from the filename and the
appropriate standard library function is chosen to open the files. All the
typical args and kwargs of “open” are supported. The syntax “zopen” mirrors
standard Unix’s zless/zgrep commands.</p>
<p>Below are some further examples of Monty’s features:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">monty.design_patterns</span> <span class="kn">import</span> <span class="n">singleton</span><span class="p">,</span> <span class="n">cached_class</span>

<span class="c1"># The singleton design pattern</span>

<span class="nd">@singleton</span>
<span class="k">class</span> <span class="nc">A</span><span class="p">():</span>
    <span class="k">pass</span>

<span class="c1"># Note that cached classes must be new style, i.e. inherits object in</span>
<span class="c1"># Python 2.7. A cached class is one which has one unique instance per</span>
<span class="c1"># set of args and kwargs.</span>

<span class="nd">@cached_class</span>
<span class="k">class</span> <span class="nc">B</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">b</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">b</span> <span class="o">=</span> <span class="n">b</span>

<span class="c1"># Highly efficient of reading of lines from back of file.</span>

<span class="kn">from</span> <span class="nn">monty.io</span> <span class="kn">import</span> <span class="n">zopen</span><span class="p">,</span> <span class="n">reverse_readline</span>
<span class="k">with</span> <span class="n">zopen</span><span class="p">(</span><span class="s2">&quot;myfile&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">reverse_readline</span><span class="p">(</span><span class="n">f</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">line</span><span class="p">)</span>

<span class="c1"># A frozen dict (Immutable dict)</span>

<span class="kn">from</span> <span class="nn">monty.collections</span> <span class="kn">import</span> <span class="n">frozendict</span>
<span class="n">d</span> <span class="o">=</span> <span class="n">frozendict</span><span class="p">(</span><span class="n">a</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

<span class="c1"># A Fabric-inspired cd context, that allows one to change directory to</span>
<span class="c1"># execute code and transparently changes back to the current working</span>
<span class="c1"># directory</span>

<span class="kn">from</span> <span class="nn">monty.os</span> <span class="kn">import</span> <span class="n">cd</span>

<span class="k">with</span> <span class="n">cd</span><span class="p">(</span><span class="s2">&quot;/path/to/input_files&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">execute_code_using_files</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="api-docs">
<h1>API docs<a class="headerlink" href="#api-docs" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="monty.html">monty package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="monty.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monty.os.html">monty.os package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="monty.os.html#submodules">Submodules</a><ul>
<li class="toctree-l5"><a class="reference internal" href="monty.os.path.html">monty.os.path module</a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="monty.os.html#module-monty.os">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="monty.html#submodules">Submodules</a><ul>
<li class="toctree-l3"><a class="reference internal" href="monty.bisect.html">monty.bisect module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.collections.html">monty.collections module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.design_patterns.html">monty.design_patterns module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.dev.html">monty.dev module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.fnmatch.html">monty.fnmatch module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.fractions.html">monty.fractions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.functools.html">monty.functools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.inspect.html">monty.inspect module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.io.html">monty.io module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.itertools.html">monty.itertools module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.json.html">monty.json module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.logging.html">monty.logging module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.math.html">monty.math module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.msgpack.html">monty.msgpack module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.multiprocessing.html">monty.multiprocessing module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.operator.html">monty.operator module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.pprint.html">monty.pprint module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.re.html">monty.re module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.serialization.html">monty.serialization module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.shutil.html">monty.shutil module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.string.html">monty.string module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.subprocess.html">monty.subprocess module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.tempfile.html">monty.tempfile module</a></li>
<li class="toctree-l3"><a class="reference internal" href="monty.termcolor.html">monty.termcolor module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="monty.html#module-monty">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="contributing">
<h1>Contributing<a class="headerlink" href="#contributing" title="Permalink to this headline">¶</a></h1>
<p>Contributions to Monty are always welcome. Feel free to visit the <a class="reference external" href="https://github.com/materialsvirtuallab/monty">Monty
Github repo</a> to fork the
repo or to submit Issues.</p>
</section>
<section id="license">
<h1>License<a class="headerlink" href="#license" title="Permalink to this headline">¶</a></h1>
<p>Monty is released under the MIT License. The terms of the license are as
follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">The</span> <span class="n">MIT</span> <span class="n">License</span> <span class="p">(</span><span class="n">MIT</span><span class="p">)</span>

<span class="n">Copyright</span> <span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="mi">2014</span> <span class="n">Materials</span> <span class="n">Virtual</span> <span class="n">Lab</span>

<span class="n">Permission</span> <span class="ow">is</span> <span class="n">hereby</span> <span class="n">granted</span><span class="p">,</span> <span class="n">free</span> <span class="n">of</span> <span class="n">charge</span><span class="p">,</span> <span class="n">to</span> <span class="nb">any</span> <span class="n">person</span> <span class="n">obtaining</span> <span class="n">a</span> <span class="n">copy</span> <span class="n">of</span>
<span class="n">this</span> <span class="n">software</span> <span class="ow">and</span> <span class="n">associated</span> <span class="n">documentation</span> <span class="n">files</span> <span class="p">(</span><span class="n">the</span> <span class="s2">&quot;Software&quot;</span><span class="p">),</span> <span class="n">to</span> <span class="n">deal</span> <span class="ow">in</span>
<span class="n">the</span> <span class="n">Software</span> <span class="n">without</span> <span class="n">restriction</span><span class="p">,</span> <span class="n">including</span> <span class="n">without</span> <span class="n">limitation</span> <span class="n">the</span> <span class="n">rights</span> <span class="n">to</span>
<span class="n">use</span><span class="p">,</span> <span class="n">copy</span><span class="p">,</span> <span class="n">modify</span><span class="p">,</span> <span class="n">merge</span><span class="p">,</span> <span class="n">publish</span><span class="p">,</span> <span class="n">distribute</span><span class="p">,</span> <span class="n">sublicense</span><span class="p">,</span> <span class="ow">and</span><span class="o">/</span><span class="ow">or</span> <span class="n">sell</span> <span class="n">copies</span> <span class="n">of</span>
<span class="n">the</span> <span class="n">Software</span><span class="p">,</span> <span class="ow">and</span> <span class="n">to</span> <span class="n">permit</span> <span class="n">persons</span> <span class="n">to</span> <span class="n">whom</span> <span class="n">the</span> <span class="n">Software</span> <span class="ow">is</span> <span class="n">furnished</span> <span class="n">to</span> <span class="n">do</span> <span class="n">so</span><span class="p">,</span>
<span class="n">subject</span> <span class="n">to</span> <span class="n">the</span> <span class="n">following</span> <span class="n">conditions</span><span class="p">:</span>

<span class="n">The</span> <span class="n">above</span> <span class="n">copyright</span> <span class="n">notice</span> <span class="ow">and</span> <span class="n">this</span> <span class="n">permission</span> <span class="n">notice</span> <span class="n">shall</span> <span class="n">be</span> <span class="n">included</span> <span class="ow">in</span> <span class="nb">all</span>
<span class="n">copies</span> <span class="ow">or</span> <span class="n">substantial</span> <span class="n">portions</span> <span class="n">of</span> <span class="n">the</span> <span class="n">Software</span><span class="o">.</span>

<span class="n">THE</span> <span class="n">SOFTWARE</span> <span class="n">IS</span> <span class="n">PROVIDED</span> <span class="s2">&quot;AS IS&quot;</span><span class="p">,</span> <span class="n">WITHOUT</span> <span class="n">WARRANTY</span> <span class="n">OF</span> <span class="n">ANY</span> <span class="n">KIND</span><span class="p">,</span> <span class="n">EXPRESS</span> <span class="n">OR</span>
<span class="n">IMPLIED</span><span class="p">,</span> <span class="n">INCLUDING</span> <span class="n">BUT</span> <span class="n">NOT</span> <span class="n">LIMITED</span> <span class="n">TO</span> <span class="n">THE</span> <span class="n">WARRANTIES</span> <span class="n">OF</span> <span class="n">MERCHANTABILITY</span><span class="p">,</span> <span class="n">FITNESS</span>
<span class="n">FOR</span> <span class="n">A</span> <span class="n">PARTICULAR</span> <span class="n">PURPOSE</span> <span class="n">AND</span> <span class="n">NONINFRINGEMENT</span><span class="o">.</span> <span class="n">IN</span> <span class="n">NO</span> <span class="n">EVENT</span> <span class="n">SHALL</span> <span class="n">THE</span> <span class="n">AUTHORS</span> <span class="n">OR</span>
<span class="n">COPYRIGHT</span> <span class="n">HOLDERS</span> <span class="n">BE</span> <span class="n">LIABLE</span> <span class="n">FOR</span> <span class="n">ANY</span> <span class="n">CLAIM</span><span class="p">,</span> <span class="n">DAMAGES</span> <span class="n">OR</span> <span class="n">OTHER</span> <span class="n">LIABILITY</span><span class="p">,</span> <span class="n">WHETHER</span>
<span class="n">IN</span> <span class="n">AN</span> <span class="n">ACTION</span> <span class="n">OF</span> <span class="n">CONTRACT</span><span class="p">,</span> <span class="n">TORT</span> <span class="n">OR</span> <span class="n">OTHERWISE</span><span class="p">,</span> <span class="n">ARISING</span> <span class="n">FROM</span><span class="p">,</span> <span class="n">OUT</span> <span class="n">OF</span> <span class="n">OR</span> <span class="n">IN</span>
<span class="n">CONNECTION</span> <span class="n">WITH</span> <span class="n">THE</span> <span class="n">SOFTWARE</span> <span class="n">OR</span> <span class="n">THE</span> <span class="n">USE</span> <span class="n">OR</span> <span class="n">OTHER</span> <span class="n">DEALINGS</span> <span class="n">IN</span> <span class="n">THE</span> <span class="n">SOFTWARE</span><span class="o">.</span>
</pre></div>
</div>
</section>
<section id="indices-and-tables">
<h1>Indices and tables<a class="headerlink" href="#indices-and-tables" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="#">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Monty: Python Made Even Easier</a></li>
<li><a class="reference internal" href="#change-log">Change Log</a></li>
<li><a class="reference internal" href="#installation">Installation</a></li>
<li><a class="reference internal" href="#usage">Usage</a></li>
<li><a class="reference internal" href="#api-docs">API docs</a></li>
<li><a class="reference internal" href="#contributing">Contributing</a></li>
<li><a class="reference internal" href="#license">License</a></li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>

  </div><h3>Related Topics</h3>
<ul>
  <li><a href="#">Documentation overview</a><ul>
      <li>Next: <a href="monty.html" title="next chapter">monty package</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy; Copyright 2014, Shyue Ping Ong.
    </div>


  </body>
</html>